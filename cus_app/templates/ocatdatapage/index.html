{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

<!-- -->
<!-- import html macros -->
<!-- -->

<style>
    td {
        padding: 10px;
    }
    th {
        padding: 10px;
    }
</style>

{% block title %}Ocat Data Page{% endblock %}
{% block main_title %}Ocat Data Page{% endblock %}
{% block app_content %}
<h1>Just  simple display of information with a header</h1>
<form method="POST">
    {{ form.hidden_tag() }}
    <p>
        Obsid</br>
        {{ ocat_data.get('obsid')}}</br>
        <b>General Parameters</b></br>
        {% for key in form.gen_param %}
            {{ key.label }} : {{key()}} </br>
        {% endfor %}
        <b>Dither Parameters</b></br>
        {% for key in form.dither_param %}
            {{ key.label }} : {{key()}} </br>
        {% endfor %}
        <b>Time Parameters</b></br>
        {{ form.time_param.time_ordr() }}
        <table border = 0>
        <thead>
        <tr>
        <th>{{ form.time_param.time_ordr.label }}</th>
        <th>{{ form.time_param.window_constraint.label }}</th>
        <th></th>
        <th>{{ form.time_param.tstart_month.label }}</th>
        <th>{{ form.time_param.tstart_date.label }}</th>
        <th>{{ form.time_param.tstart_year.label }}</th>
        <th>{{ form.time_param.tstart_time.label }}</th>
        </tr>
        </thead>
        </br>
        <tbody>
        {% set time_ordr = form.time_param.time_ordr.data | int%}
        {% for k in range(time_ordr) %}
            <tr>
                <th>{{ k+1 }}</th>
                <td>{{ form.time_param.window_constraint[k]() }}</td>
                <th>Start</th>
                <td>{{form.time_param.tstart_month[k]()}}</td>
                <td>{{form.time_param.tstart_date[k]()}}</td>
                <td>{{form.time_param.tstart_year[k]()}}</td>
                <td>{{form.time_param.tstart_time[k](size=5)}}</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>
                    {% for error in form.time_param.tstart_time[k].errors %}
                        <span style="color: red;">{{ error }}</span><br>
                    {% endfor %}
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <th>Stop</th>
                <td>{{form.time_param.tstop_month[k]()}}</td>
                <td>{{form.time_param.tstop_date[k]()}}</td>
                <td>{{form.time_param.tstop_year[k]()}}</td>
                <td>{{form.time_param.tstop_time[k](size=5)}}</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>
                    {% for error in form.time_param.tstop_time[k].errors %}
                        <span style="color: red;">{{ error }}</span><br>
                    {% endfor %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
        {{ form.submit.submit() }}<br/>
    </p>
</form>
{% endblock %}